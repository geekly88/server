<div class="col-md-12 col-xs-12 no-p mainDetails" style="overflow-y:hidden;">

    <div class="col-md-12 col-xs-12 no-p"  [hidden]="__showSide !== 'PRINT'">
        <sales-shows [data]="__showSaleData" [isDynamic]="true" [print]="__printSale__"
        (onAction)="autocompletevaluechanged($event)">
            </sales-shows>
    </div>

    <div class="col-lg-7 no-p col-md-12 col-xs-12 order-search-side" [hidden]="__showSide !== 'ORDER'">
        <div class="col-md-12 col-xs-12 no-p">
            <form class="form" [formGroup]="searchForm" (ngSubmit)="null" class="col-md-12 col-xs-12 no-p float_exac" [hidden]="!__showSearch">
                <div class="form-group col-md-12 col-xs-12">
                    <div class="col-md-12 col-xs-12 no-p">
                        <input [formControl]="searchForm.controls['search']" name="search" data-rules="noroles"
                        type="text" class="form-control order-search autofocus" placeholder="البحث عن منتج,خدمة,زبون أو موظف"/>
                        <orders-autocomplete
                                [field]="['name' , 'sku']"
                                [template]="'<p class=\'auto-name-top\'>#name</p><p class=\'auto-name-bottom small\'>#sku</p>'"
                                [searchFields]="['name','sku']"
                                [control]="searchForm.controls.search"
                                [search]="searchForm.controls.search.value"
                                [url]="'products/?contains=true&logic=||'"
                                [class]="'search'"
                                (onsetvalue)="autocompletevaluechanged($event)"
                                >
                        </orders-autocomplete>
                    </div>
                </div>
            </form>
        </div>

        <div class="col-md-12 col-xs-12 products_list" *ngIf="__showTags">
            <div class="square_list_item" *ngFor="let i of __loopsArray">
                <div class="col-md-12 col-xs-12 no-p" *ngIf="__tags[(((__tagsPage - 1) * __pagesLimit) + i)] && __tags[(((__tagsPage - 1) * __pagesLimit) + i)].name">
                    <button (click)="__onSelectTag__(__tags[(((__tagsPage - 1) * __pagesLimit) + i)])">{{ __tags[(((__tagsPage - 1) * __pagesLimit) + i)].name }}</button>
                </div>
                <div *ngIf="!__tags[(((__tagsPage - 1) * __pagesLimit) + i)]" class="square_list_item_empty"></div>
            </div>
        </div>

        <div class="col-md-12 col-xs-12 products_list" *ngIf="__showBrands">
            <div class="square_list_item" *ngFor="let i of __loopsArray">
                <div class="col-md-12 col-xs-12 no-p" *ngIf="__brands[i] && __brands[i].id">
                    <button (click)="__onSelectBrand__(__brands[i])" *ngIf=" __brands[i].img && __brands[i].img !== ''">
                        <img src="assets/img/products/{{ __brands[i].img }}" />
                        <p class="pro_name">{{ __brands[0].name }}</p>
                    </button>
                    <button (click)="__onSelectBrand__(__brands[i])" *ngIf="!__brands[i].img || __brands[i].img === ''">{{ __brands[i].name }}</button>
                </div>
                <div *ngIf="!__brands[i]" class="square_list_item_empty"></div>
            </div>
        </div>

        <div class="col-md-12 col-xs-12 products_list" *ngIf="__showCollections">
            <div class="square_list_item" *ngFor="let i of __loopsArray">
                <div class="col-md-12 col-xs-12 no-p" *ngIf="__collections[i] && __collections[i].id">
                    <button (click)="__onSelectCollection__(__collections[i])" *ngIf=" __collections[i].img && __collections[i].img !== ''">
                        <img src="assets/img/products/{{ __collections[i].img }}" />
                        <p class="_name">{{ __collections[0].name }}</p>
                    </button>
                    <button (click)="__onSelectCollection__(__collections[i])" *ngIf="!__collections[i].img || __collections[i].img === ''">{{ __collections[i].name }}</button>
                </div>
                <div *ngIf="!__collections[i]" class="square_list_item_empty"></div>
            </div>
        </div>

        <div class="col-md-12 col-xs-12 products_list" *ngIf="__showProducts">
            <div class="square_list_item" *ngFor="let i of __loopsArray">
                <div class="col-md-12 col-xs-12 no-p" *ngIf="__products[i] && __products[i].id">
                        <span class="product_price {{ _modal }}">{{ __products[i].price | myCurrency }}</span>
                        <a class="product_info" (click)="__showProductDetials(__products[i])"><i class="ti-info"></i></a>
                        <button (click)="addProductToOrders(__products[i])" *ngIf="__products[i].imgs && __products[i].imgs.length !== 0">
                                <img src="{{ _global.config['serverPath']+'uploads/proimg/'+ __products[i].imgs[0] }}" />
                                {{ __products[i].name }}
                        </button>
                    <button (click)="addProductToOrders(__products[i])" *ngIf="!__products[i].imgs || __products[i].imgs.length === 0">{{ __products[i].name }}</button>
                </div>
                <div *ngIf="!__products[i]" class="square_list_item_empty"></div>
            </div>
        </div>
        <div class="no-p col-md-12 col-xs-12">
            <ul class="col-md-12 col-xs-12 no-p">
                <li (click)="onSideBarClick()"><i class="ti-layout-grid2"></i></li>
                <li [ngClass]="{'active' : __toggleSearch__ === 'PRODUCTS' }" (click)="OnToggleSearchType('PRODUCTS' , true)"><p>الأصناف</p></li>
                <li [ngClass]="{'active' : __toggleSearch__ === 'BRANDS' }" (click)="OnToggleSearchType('BRANDS')"><p>الماركات</p></li>
                <li [ngClass]="{'active' : __toggleSearch__ === 'COLLECTIONS' }" (click)="OnToggleSearchType('COLLECTIONS')"><p>المجموعات</p></li>
                <li [ngClass]="{'active' : __toggleSearch__ === 'TAGS' }" (click)="OnToggleSearchType('TAGS')"><p>الكلمات</p></li>
                <li class="float_opp" (click)="OnAddCustomer()"><i class="ti-user"></i></li>
                <li class="float_opp" (click)="prevPage()"><i class="ti-angle-double-left"></i></li>
                <li class="float_opp" (click)="nextPage()"><i class="ti-angle-double-right"></i></li>
            </ul>
        </div>
    </div>
    <!-- =================================== ===================================================-->
    <div class="no-p col-lg-5 col-md-12 col-xs-12 col-sm-12 col-md-12 col-xs-12 order-list-side"  [hidden]="__showSide !== 'ORDER'">
        <div class="col-md-12 col-xs-12 no-p registry-wrapper" *ngIf="!__registerOpen">
            <p class="registry-title">المسجل مغلق حاليا</p>
            <p class="registry-title2">عليك تفعيل المسجل لاتمام عملية البيع</p>

            <div class="no-p col-md-12 col-xs-12 registry-image">
                <img src="assets/img/expl/close.svg" />
            </div>

            <div class="col-md-12 col-xs-12 no-p registry-button">
                <button class="btn btn-primary" (click)="onOpenRegistry()">تفعيل المسجل</button>
            </div>
        </div>
        <div class="col-md-12 col-xs-12 no-p top-actions">
            <a class="order-top-action float_exac" (click)="__showModalDetails__()">#{{ formObject.controls['number'].value }} <i class="ti-file"></i></a>
            <a class="order-top-action trashy" (click)="onRemoveAllOrders()"><i class="ti-trash"></i></a>
            <!--<a class="order-top-action" (click)="__showModalDetails__('parkForm')"
               *ngIf="!__hasParkNote"><i class="ti-time"></i></a>-->
            <a class="order-top-action" (click)="__checkParkSales__()"
               ><i class="ti-time"></i>
            </a>
            <a class="order-top-action show_customer_action" (click)="__onShowCustomerData()"
            ><i class="ti-user"></i></a>
            <a class="order-top-action show_shipping_action" (click)="__showModalDetails__('shipping')"><i class="ti-truck"></i></a>
            <a class="order-top-action msg" (click)="__showModalDetails__('parkMsg')" *ngIf="__hasParkNote"><i class="ti-envelope"></i></a>
            <a class="order-top-action"
                (click)="__showModalDetails__('paymentsDetails')"
                *ngIf="formObject.value.id && formObject.value.status === 'completed'">
                <i class="ti-money"></i>
            </a>
            <a class="order-top-action" (click)="_global.navigatePanel('registersHistory/details')"
            ><i class="ti-lock"></i></a>
        </div>

        <div class="order-list-container col-md-12 col-xs-12 no-p">
            <div class="col-md-12 col-xs-12 no-p orders_wrapper">
                <div class="col-md-12 col-xs-12 no-p order-list-details">
                    <form class="form col-md-12 col-xs-12 no-p bounceInDown" *ngFor="let form of __orders,let i=index" [formGroup]="form"
                        (onSubmit)="onUpdateOrder(form)" novalidate>
                        <a class="order-itself col-md-12 col-xs-12 no-p order_{{i}}" [ngClass]="{'form_focus' : form.controls.focus.value }">
                            <div class="col-md-12 col-xs-12 no-p">
                                <div class="order_quantity" (click)="OnShowQuantityModal(form,i)">{{ form.controls.quantity.value }}</div>
                                <a class="order_product_name" (click)="onFocusOrder(form,i)">
                                    <p class="order-name">{{ form.controls.product_name.value }}</p>
                                    <p class="order-variaties">{{ form.controls.product_handler.value }}</p>
                                </a>
                                <div class="order_price" (click)="onFocusOrder(form,i)">{{ form.controls.total.value | myCurrency }}</div>
                                <div class="order_remove">
                                    <a class="order-top-action trashy" (click)="onRevemoOrder(form , i)"><i class="ti-trash"></i></a>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12 no-p order_form form_{{i}} bounceInDown" *ngIf="form.controls.focus.value === true">
                                <div class="small_qty form-group">
                                    <label class="label-control">الكمية</label>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <input class="form-control autofocus" [formControl]="form.controls.quantity" placeholder="الكمية" (change)="onUpdateOrder(form)"/>
                                    </div>
                                </div>
                                <div class="small_unit form-group" *ngIf="form.controls.type.value
                                     && __units[form.controls.type.value]
                                     && __units_main_id[form.controls.type_main_id.value]">
                                    <label class="label-control">الوحدة</label>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <select class="form-control" [formControl]="form.controls.type" (change)="onUpdateOrder(form ,'unit')">
                                            <option *ngFor="let unit of __units_main_id[form.value.type_main_id]"
                                                     value="{{ unit.name }}">{{ unit.name }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="small_price form-group" *ngIf="form.controls.product.value && form.controls.product.value.is_product === false">
                                    <label class="label-control" (click)="__changeOrderPrice__(form)">التكلفة</label>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <input class="form-control" [formControl]="form.controls.cost" placeholder="التكلفة" (change)="onUpdateOrder(form)"/>
                                    </div>
                                </div>
                                <div class="small_price form-group" *ngIf="form.controls.tax.value && form.controls.tax.value > 0">
                                    <label class="label-control" (click)="__changeOrderPrice__(form)">الضريبة %</label>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <input class="form-control" [formControl]="form.controls.tax" placeholder="السعر" (change)="onUpdateOrder(form)"/>
                                    </div>
                                </div>
                                <div class="small_price form-group">
                                    <label class="label-control" (click)="__changeOrderPrice__(form)">{{ form.controls['price_title'].value }}</label>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <input class="form-control" [formControl]="form.controls.price" placeholder="السعر" (change)="onUpdateOrder(form)"/>
                                    </div>
                                </div>
                                <div class="small_discount form-group">
                                    <label class="label-control">التخفيض %</label>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <input class="form-control" [formControl]="form.controls.discount" placeholder="التخفيض%" (change)="onUpdateOrder(form)"/>
                                    </div>
                                </div>
                                <!--<div class="small_btn form-group">
                                    <button (click)="onUpdateOrder(form)" type="submit" class="btn"><i class="ti-save-alt"></i></button>
                                </div>-->
                                <div class="form-group col-md-12 col-xs-12 col-sm-12 no-p" *ngIf="form.controls.product.value && form.controls.product.value.is_product">
                                    <label class="col-md-12 col-form-label no-p">مصدر سحب المنتج</label>
                                    <div class="col-md-12 col-sm-12 col-xs-12 no-p">
                                        <select class="form-control" name="quantity_origin_id" [formControl]="form.controls.quantity_origin_id" 
                                        (change)="__setQuantityOriginForm__(form , $event)">
                                            <option [value]="0" value="0">المتجر</option>
                                            <option *ngFor="let option of __storagesArray"
                                                [value]="option.id" value="{{ option.id }}" >{{ option.name }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-12 col-xs-12 form-group">
                                    <input class="form-control" [formControl]="form.controls.description" placeholder="وصف الصنف أو الخدمة">
                                </div>
                                <div class="col-md-12 col-xs-12">
                                    <p><a class="more" (click)="OnProductDetails(form)" ><i class="ti-info"></i> تفاصيل المنتج</a></p>
                                </div>
                            </div>
                        </a>
                    </form>
                </div>
            </div>
            <div class="col-md-12 col-xs-12 no-p">
                <div class="col-md-12 col-xs-12 textarea">
                    <textarea [(ngModel)]="__textArea" placeholder="شروط و اتفاقية الاستخدام"></textarea>
                </div>
            </div>
            <div class="col-md-12 col-xs-12 prices">
                <div class="col-md-12 col-xs-12 no-p item item-price">
                    <div class="col-xs-4 no-p prices-title"><p>السعر</p></div>
                    <div class="col-xs-8 no-p prices-content"><p>{{ __obj.price | myCurrency }}</p></div>
                </div>
                <div class="col-md-12 col-xs-12 no-p item item-discount">
                    <div class="col-xs-4 no-p prices-title" >
                        <p>
                            <popover-content #myPopover
                                placement="top"
                                [animation]="true"
                                [closeOnClickOutside]="false">
                                <div class="discountDetails">
                                    <div class="col-md-12 col-xs-12 no-p"><p class="title">أضف تخفيض للطلب</p></div>
                                    <div class="col-md-12 col-xs-12 no-p">
                                        <div class="percent col-md-6 no-p" (click)="(__discountType = 'PERCENT') && __refreshPrices()"
                                            [ngClass]="{'borders' : __discountType === 'PERCENT'}">%</div>
                                        <div class="value col-md-6 no-p" (click)="(__discountType = 'AMOUNT') && __refreshPrices()"
                                            [ngClass]="{'borders' : __discountType === 'AMOUNT'}">{{ _global.getToken()['settings']['currency'] }}</div>
                                    </div>
                                    <div class="col-md-12 col-xs-12 no-p dis_details">
                                        <input (change)="__refreshPrices()" data-rules="noroles" class="form-control" [(ngModel)]="__discountAmount">
                                        <!--<button (click)="__refreshPrices()" class="save"><i class="ti-save-alt"></i></button>
                                        <button ><i class="ti-trash"></i></button>-->
                                    </div>
                                </div>
                            </popover-content>
                            <a [popover]="myPopover">التخفيض</a>
                        </p>

                    </div>
                    <div class="col-xs-8 no-p prices-content"><p>{{ __obj.discount | myCurrency }}</p></div>
                </div>
                <div class="col-md-12 col-xs-12 no-p item item-taxes">
                    <div class="col-xs-4 no-p prices-title"><p>الضرائب</p></div>
                    <div class="col-xs-8 no-p prices-content"><p>{{ __obj.tax | myCurrency }}</p></div>
                </div>
            </div>
            <div class="col-md-12 col-xs-12 order-list-pay">
                <button class="btn" (click)="OnPayClick()" [ngClass]="{'disable' : !__orders || __orders.length === 0}">
                    <p class="float_exac">ادفع</p>
                    <p class="float_opp" *ngIf="formObject.value.gift_discount === 0 && __customerPointsToUse === 0">{{ __obj.total | myCurrency }}</p>
                    <p class="float_opp" *ngIf="formObject.value.gift_discount > 0 && __customerPointsToUse === 0">{{ __obj.total | myCurrency }} (<i class="ti-gift">{{ (-1 * formObject.value.gift_discount) }}</i>)</p>
                    <p class="float_opp" *ngIf="formObject.value.gift_discount > 0 && __customerPointsToUse > 0">{{ __obj.total | myCurrency }} (<i class="ti-gift">{{ (-1 * formObject.value.gift_discount) }}</i> <i class="ti-star">{{ (-1 * (_global.getToken()['settings']['loyalty_money_for_point'] * __customerPointsToUse)) }}</i>)</p>
                    <p class="float_opp" *ngIf="formObject.value.gift_discount === 0 && __customerPointsToUse > 0">{{ __obj.total | myCurrency }} (<i class="ti-star">{{ (-1 * (_global.getToken()['settings']['loyalty_money_for_point'] * __customerPointsToUse)) }}</i>)</p>
                </button>
            </div>
        </div>
    </div>
    <div class="col-md-12 col-xs-12 no-p PayDetails" [hidden]="__showSide !== 'PAY'">

        <div class="col-md-12 col-xs-12 no-p">
            <div class="col-md-5 details-side hidden-md-down">
                <div class="col-md-12 col-xs-12 no-p"><p class="center _title_">قائمة الطلبات</p></div>
                <div class="col-md-12 col-xs-12 padding-20 pay-items">
                    <div class="col-md-12 col-xs-12 pay-item" *ngFor="let ord of __orders">
                        <div class="_qty_"><p class="center">{{ ord.value.quantity }}</p></div>
                        <div class="_name_">
                            <p class="_main_name_">{{ ord.value.product_name }}</p>
                            <p class="_variaty_ small">{{ ord.value.product_handler }}</p>
                            <p class="_variaty_ small" *ngIf="ord.value.description && ord.value.description.length >= 1">{{ ord.value.description }}</p>
                        </div>
                        <div class="_price_">{{ ord.value.total | myCurrency}}</div>
                   </div>
                   <div class="col-md-12 col-xs-12 prices">
                        <div class="col-md-12 col-xs-12 no-p item item-price">
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-title"><p>السعر</p></div>
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-content"><p>{{ __obj.price | myCurrency }}</p></div>
                        </div>
                        <div class="col-md-12 col-xs-12 no-p item item-discount">
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-title"><p>التخفيض</p></div>
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-content"><p>{{ __obj.discount | myCurrency }}</p></div>
                        </div>
                        <div class="col-md-12 col-xs-12 no-p item item-taxes">
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-title"><p>الضرائب</p></div>
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-content"><p>{{ __obj.tax | myCurrency }}</p></div>
                        </div>
                        <div class="col-md-12 col-xs-12 no-p item item-total">
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-title"><p>الاجمالى<span class="small">( {{ __orders.length }} طلبات)</span></p></div>
                            <div class="col-md-12 col-sm-12 col-xs-12 no-p prices-content"><p>{{ __obj.total | myCurrency }}</p></div>
                        </div>
                    </div>
                </div>
                <!--<div class="col-md-12 col-xs-12 no-p _blance_"><p>الاجمالى : {{ __obj.total | myCurrency }}</p></div>-->
            </div>
            <div class="col-md-7 pay-side">
                <div class="col-md-12 col-xs-12">
                    <button class="_back_ btn float_exac" (click)="onCompletePayment('' , true)" *ngIf="!formObject.value.is_sale">اتمام العملية</button>
                    <button class="_back_ btn" (click)="onBackToOrdering()">الرجوع للقائمة</button>
                </div>
                <div class="col-md-12 col-xs-12">
                    <p class="_paystr_">ادفع</p>
                    <input type="text" [(ngModel)]="__payAmount" class="_paycontrol_" placeholder="المبلغ المدفوع"/>
                </div>
                <div class="col-md-12 col-xs-12 _paydebt_">
                    <a class="show_paid" (click)="__showModalDetails__('paymentsDetails')"><i class="ti-money"></i></a>
                    <p>المدفوع {{ formObject.value.paid | myCurrency }} من {{ __obj.total | myCurrency }}</p>
                </div>
                <div class="col-md-12 col-xs-12 _paysbtn_">
                    <div class="pay_way_item">
                        <img src="assets/img/expl/cash.svg" />
                        <button class="btn" (click)="onCompletePayment('CASH')">دفع كاش</button>
                    </div>
                    <div class="pay_way_item">
                        <img src="assets/img/expl/credit-card.svg" />
                        <button class="btn" (click)="onCompletePayment('CREDIT')">الدفع ببطاقة الائتمان</button>
                    </div>
                    <div class="pay_way_item">
                        <img src="assets/img/expl/cheque.svg" />
                        <button class="btn" (click)="onCompletePayment('CHEQUE')">الدفع بالشيك</button>
                    </div>
                    <div class="pay_way_item">
                        <img src="assets/img/expl/banks.svg" />
                        <button class="btn" (click)="__showModalDetails__('chooseBank')">تحويل مصرفى</button>
                    </div>
                </div>
                <div class="col-md-6 _customer_">
                    <div class="_cos_title_ col-md-12 col-xs-12"><p>الزبون</p></div>
                    <div class="_cos_details col-md-12 col-xs-12" *ngIf="!_customer">
                        <p>لم تحدد الزبون لهذا الطلب ... <a (click)="onBackToOrdering()">يمكنك الرجوع لاختيار الزبون</a> أو <a (click)="OnAddCustomer()">أضافة زبون جديد</a></p>
                    </div>
                    <div class="_cos_details col-md-12 col-xs-12" *ngIf="_customer">
                        <i class="ti-user"></i>
                        <div class="col-md-12 col-xs-12 no-p"><p class="tit">الاسم</p><p (click)="__onShowCustomerData()" class="data">{{ _customer.name }}</p></div>
                    </div>
                </div>
            </div>
        </div>
         <!--<div class="col-md-12 no-p" [hidden]="__isDynamicShows__">
             <sales-shows [data]="__showSaleData" [isDynamic]="__isDynamicShows__" [print]="__printSale__">
             </sales-shows>
         </div>-->
    </div>
</div>


<div class="fade modal" id="show-sale-details-modal" tabindex="1" role="dialog"
    aria-labelledby="mySaleDetailsModalLabel" aria-hidden="false">
    <div class="modal-dialog" [ngClass]="{'modal-sm' : _modal === 'quantity' , 'modal-lg' : _modal === 'shows' || _modal === 'customers' || _modal === 'employees'}">
        <div class="modal-header">
            <button class="close" data-dismiss="modal"><span>x</span></button>
        </div>
        <div class="col-md-12 no-p box white" *ngIf="_modal === 'quantity' && __lastFocusedForm">
            <div class="col-md-12 col-sm-12 col-xs-12 qty-box">
                <div class="qty-header col-md-12 col-sm-12 col-xs-12">
                    <li class="res">3213.332</li>
                    <button class="btn clear" (click)="OnUpdateQuantity('clear')">C</button>
                    <button class="btn backspace" (click)="OnUpdateQuantity('backspace')"><i class="ti-trash"></i></button>
                </div>
                <ul class="col-md-12 col-xs-12 col-sm-12 no-p">
                    <li (click)="OnUpdateQuantity('1')">1</li>
                    <li (click)="OnUpdateQuantity('2')">2</li>
                    <li (click)="OnUpdateQuantity('3')">3</li>
                    <li (click)="OnUpdateQuantity('4')">4</li>
                    <li (click)="OnUpdateQuantity('5')">5</li>
                    <li (click)="OnUpdateQuantity('6')">6</li>
                    <li (click)="OnUpdateQuantity('7')">7</li>
                    <li (click)="OnUpdateQuantity('8')">8</li>
                    <li (click)="OnUpdateQuantity('9')">9</li>
                    <li (click)="OnUpdateQuantity('dot')">.</li>
                    <li (click)="OnUpdateQuantity('00')">00</li>
                    <li (click)="OnUpdateQuantity('0')">0</li>
                </ul>
                <div class="qty-btm col-md-12 col-xs-12 col-sm-12 no-p">
                    <button class="btn cancel" data-dismiss="modal" (click)="OnUpdateQuantity('cancel')">الغاء</button>
                    <button class="btn confirm" data-dismiss="modal" (click)="OnUpdateQuantity('confirm')">تأكيد</button>
                </div>
            </div>
        </div>
        <div class="col-md-12 col-xs-12 col-md-12 col-xs-12 no-p invoiceDetails" *ngIf="_modal === 'sales'">
            <div class="col-md-12 col-xs-12 no-p">
                <div class="col-md-12 col-xs-12 main_body white">
                    <form [formGroup]="formObject" (ngSubmit)="OnSubmitForm(formObject.value , formObject.valid)" novalidate
                        class="form col-md-12 col-xs-12 no-p">
                        <fieldset>
                            <div class="col-xl-12 form_paraphraph">
                                <p class="title head" *ngIf="formObject.value.is_sale">البيانات الرئيسية للطلب</p>
                                <p class="title head" *ngIf="!formObject.value.is_sale">البيانات الرئيسية للفاتورة</p>
                            </div>
                            <!--<div class="col-md-12 first" *ngIf="_global.getResource('branches').length > 1">
                                <div class="form-group col-md-12 col-sm-12">
                                    <label class="col-lg-12 col-md-12 col-xs-12 col-sm-12 col-form-label">الفرع</label>
                                    <div class="col-md-12 ">
                                        <select class="form-control" name="branch_id" (change)="onSelectItem($event)" [formControl]="formObject.controls['branch_id']">
                                            <option *ngFor="let option of _global.getResource('branches')"
                                                [value]="option.id" value="{{ option.id }}" >{{ option.name }}</option>
                                        </select>
                                        <div class="errors"></div>
                                    </div>
                                </div>
                            </div>-->
                            <div class="col-md-6 col-xs-6 col-sm-6 first">
                                <button type="button" class="btn_box" (click)="__setType__(__lastType__)" [ngClass]="{'active' : __type__ !== 'primary' }">
                                    <i class="ti-stamp"></i>
                                    <span>فاتورة دائمة</span>
                                </button>
                            </div>
                            <div class="col-md-6 col-xs-6 col-sm-6 first">
                                <button type="button" class="btn_box" (click)="__setType__('primary')" [ngClass]="{'active' : __type__ === 'primary' }">
                                    <i class="ti-info"></i>
                                    <span>فاتورة أولية</span>
                                </button>
                            </div>
                            <div class="col-md-6 col-xs-6 col-sm-6" [hidden]="__type__ === 'primary' || _global.getToken()['settings']['sale_type'] !== 'both'">
                                <button type="button" class="btn_box" (click)="__setSaleType__(true)" [ngClass]="{'active' : formObject.value.is_sale }">
                                    <i class="ti-receipt"></i>
                                    <span>بيع فورى</span>
                                </button>
                            </div>
                            <div class="col-md-6 col-xs-6 col-sm-6" [hidden]="__type__ === 'primary' || _global.getToken()['settings']['sale_type'] !== 'both'">
                                <button type="button" class="btn_box" (click)="__setSaleType__(false)" [ngClass]="{'active' : !formObject.value.is_sale }">
                                    <i class="ti-time"></i>
                                    <span>بيع بالأجل</span>
                                </button>
                            </div>
                            <div class="col-md-6 col-xs-6 col-sm-6" [hidden]="__type__ === 'primary'">
                                <button type="button" class="btn_box" (click)="__setType__('completed')" [ngClass]="{'active' : __type__ === 'completed'}">
                                    <i class="ti-shopping-cart"></i>
                                    <span>مبيعات</span>
                                </button>
                            </div>
                            <div class="col-md-6 col-xs-6 col-sm-6" [hidden]="__type__ === 'primary'">
                                <button type="button" class="btn_box" (click)="__setType__('returned')" [ngClass]="{'active' : __type__ === 'returned'}">
                                    <i class="ti-back-left"></i>
                                    <span>اعادة طلبات</span>
                                </button>
                            </div>
                            <div class="col-md-12 col-xs-12" *ngIf="!formObject.value.is_sale">
                                <div class="form-group col-md-6 col-sm-12">
                                    <label class="col-md-12 col-xs-12 col-form-label">#رقم الفاتورة</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="req,num" [formControl]="formObject.controls['number']" name="number"
                                        type="text" class="form-control" placeholder="رقم الفاتورة" [ngClass]="{'errors': validateControl('number')}">
                                        <div class="errors"></div>
                                    </div>
                                </div>
                                <div class="form-group col-md-6 col-sm-12">
                                    <label class="col-md-12 col-xs-12 col-form-label">كوبون التخفيض</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="req,num" [formControl]="formObject.controls['gift_code']" name="gift_code"
                                        type="text" class="form-control" (change)="onAddingGiftCopun()" placeholder="كوبون التخفيض" [ngClass]="{'errors': validateControl('gift_code')}">
                                        <div class="errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12 last" *ngIf="!formObject.value.is_sale">
                                <div class="form-group col-md-6 col-sm-12">
                                    <label class="col-md-12 col-xs-12 col-sm-12 col-form-label">تاريخ الفاتورة</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="date" ng2-datetime-picker name="date" [(ngModel)]="__saleDate"
                                        [formControl]="formObject.controls['date']" [close-on-select]="false"
                                        type="text" class="form-control" placeholder="تاريخ الفاتورة"
                                        [ngClass]="{'errors': validateControl('date')}" readonly/>
                                        <div class="errors"></div>
                                    </div>
                                </div>
                                <div class="form-group col-md-6 col-sm-12">
                                    <label class="col-md-12 col-xs-12 col-sm-12 col-form-label">تاريخ الدفع</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="date" ng2-datetime-picker name="paid_date" [(ngModel)]="__paidDate"
                                        [formControl]="formObject.controls['paid_date']" [close-on-select]="false"
                                        type="text" class="form-control" placeholder="تاريخ الدفع"
                                        [ngClass]="{'errors': validateControl('paid_date')}" readonly/>
                                        <div class="errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12" *ngIf="formObject.value.is_sale">
                                <div class="form-group col-md-6 col-sm-12" [hidden]="__type__ === 'completed'">
                                    <label class="col-md-12 col-xs-12 col-form-label">رقم الايصال</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="req,num" [formControl]="formObject.controls['number']" name="number"
                                        type="text" class="form-control autofocus" placeholder="رقم الايصال" [ngClass]="{'errors': validateControl('number')}"/>
                                        <div class="errors"></div>
                                    </div>
                                </div>
                                <div class="form-group col-md-6 col-sm-12">
                                    <label class="col-md-12 col-xs-12 col-form-label">كوبون التخفيض</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="req,num" [formControl]="formObject.controls['gift_code']" name="gift_code"
                                        type="text" class="form-control" placeholder="كوبون التخفيض" [ngClass]="{'errors': validateControl('gift_code')}">
                                        <div class="errors"></div>
                                    </div>
                                </div>
                                <div class="form-group col-md-6 col-sm-12">
                                    <label class="col-md-12 col-xs-12 col-sm-12 col-form-label">تاريخ الطلب</label>
                                    <div class="col-md-12 col-xs-12">
                                        <input data-rules="date" ng2-datetime-picker name="date" [(ngModel)]="__saleDate"
                                        [formControl]="formObject.controls['date']" [close-on-select]="false"
                                        type="text" class="form-control" placeholder="تاريخ الطلب"
                                        [ngClass]="{'errors': validateControl('date')}" readonly/>
                                        <div class="errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <button type="submit" class="btn btn-primary">حفظ البيانات</button>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
            <customers-details [isDynamic]="true" *ngIf="_modal === 'customers'"
            (onNewOneAdded)="OnCustomersAdded($event)"></customers-details>

            <!--<employees-details [isDynamic]="true" *ngIf="_modal === 'employees'"
            (onNewOneAdded)="OnEmployeesAdded($event)"></employees-details>-->
        <!--</div>-->
         <pro-details [product]="__proDetails" *ngIf="_modal === 'proDetails'"></pro-details>

         <div class="col-md-12 col-xs-12 no-p padding-20" *ngIf="_modal === 'parkMsg'">
            <div class="col-md-12 col-xs-12 no-p">
                <div class="col-md-12 col-xs-12 main_body white">
                    <form novalidate class="form col-md-12 col-xs-12 no-p">
                        <fieldset>
                            <div class="col-xl-12 form_paraphraph">
                                <p class="title head">الملاحظة المرفقة</p>
                                <p>يتم ترك الملاحظة المرافقة عند حفظ الطلب للتذكير</p>
                            </div>
                            <div class="col-xl-12 form_paraphraph">
                                <p>{{ _lastSale.parked_msg }}</p>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
         </div>

        <div class="col-md-12 col-xs-12 no-p" *ngIf="_modal === 'parksales'">
            <div class="shadow_box park_box">
                <div class="park_header col-md-12 col-xs-12">
                    <a (click)="__showModalDetails__('parkForm')" >حفظ الطلبية مؤقتا</a>
                </div>
                <div class="park_body col-md-12 col-xs-12 no-p">
                    <div class="park_item" *ngFor="let park of __parkSales">
                        <div class="park_name">
                            <p class="number">{{ park.number }}</p>
                            <p class="data">{{ park.date }}</p>
                        </div>
                        <div class="park_price">
                            <p class="total">{{ park.totals }}</p>
                            <p class="count">{{ park.count }} طلبات</p>
                        </div>
                        <div class="park_actions">
                            <a (click)="__onParkedSaleAction(park,'EDIT')"><i class="ti-settings"></i></a>
                            <a (click)="__onParkedSaleAction(park,'DELETE')"><i class="ti-trash"></i></a>
                        </div>
                    </div>
                    <div class="col-md-12 col-xs-12 padding-20 center h2" *ngIf="__parkSales.length === 0">
                        <p>لا يوجد بيانات لعرضها حاليا</p>
                    </div>
                </div>
                <div class="park_footer col-md-12 col-xs-12">
                    <a (click)="__getMoreParkSales()">عرض المزيد <i class="ti-reload"></i></a>
                </div>
            </div>
        </div>

         <div class="col-md-12 col-xs-12 no-p padding-20" *ngIf="_modal === 'parkForm'">
            <div class="col-md-12 col-xs-12 no-p">
                <div class="col-md-12 col-xs-12 main_body white">
                    <form [formGroup]="formObject" (ngSubmit)="onParkOrders()" novalidate
                        class="form col-md-12 col-xs-12 no-p">
                        <fieldset>
                            <div class="col-xl-12 form_paraphraph">
                                <p class="title head">الملاحظة لحفظ الطلب</p>
                                <p>اترك ملاحظة ليتم قرائتها عند العودة للطلبات</p>
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <div class="form-group col-md-12 col-xs-12">
                                    <label class="col-md-12 col-xs-12 col-form-label">ملاحظات الحفظ</label>
                                    <div class="col-md-12 col-xs-12">
                                        <textarea data-rules="alph" [formControl]="formObject.controls['parked_msg']" name="parked_msg"
                                                  style="padding : 10px ; height : 90px;"
                                                  class="form-control autofocus" placeholder="الملاحظة" [ngClass]="{'errors': validateControl('parked_msg')}">
                                        </textarea>
                                        <div class="errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <button type="submit" class="btn btn-primary">حفظ البيانات</button>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
         </div>

         <div class="col-md-12 col-xs-12 no-p padding-20" *ngIf="_modal === 'chooseBank'">
            <div class="col-md-12 col-xs-12 no-p">
                <div class="col-md-12 col-xs-12 main_body white">
                    <form (ngSubmit)="null" class="form col-md-12 col-xs-12 no-p" novalidate>
                        <fieldset>
                            <div class="col-xl-12 form_paraphraph">
                                <p class="title head">اختر البنك المستلم</p>
                                <p>تحويل المبلغ الى البنك المحدد لعملية استلام المبلغ</p>
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <div class="form-group col-md-12 col-xs-12">
                                    <label class="col-md-12 col-xs-12 col-form-label">اسم البنك</label>
                                    <div class="col-md-12 col-xs-12">
                                        <select class="form-control" [(ngModel)]="__chosenBankID" [ngModelOptions]="{standalone: true}">
                                            <option *ngFor="let bank of __banks"
                                                    value="{{ bank.id }}">{{ bank.name }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12">
                                <button type="submit" class="btn btn-primary" (click)="onCompletePayment('BANK')">تحويل المبلغ</button>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
         </div>

         <div class="col-md -12 no-p" *ngIf="_modal === 'customerandemployees'">
             <div class="show_box show_customer" >
                <div class="col-md-6 tabheader"
                     (click)="__showCustomerData = true" [ngClass]="{ 'active' : __showCustomerData}">
                    الزبون
                </div>
                <div class="col-md-6 tabheader"
                     (click)="__showCustomerData = false" [ngClass]="{ 'active' : !__showCustomerData}">
                    الموظف
                </div>
                <div class="col-md-12 col-xs-12 no-p"  [hidden]="!__showCustomerData">
                    <div class="col-md-12 col-xs-12 no-p image-wrapper" [ngClass]="{'notfound' : !_customer}">
                        <img src="assets/img/expl/employees.svg" *ngIf="!_customer || !_customer['img']" />
                        <img src="{{ _global.config['serverPath']+'uploads/avatars/'+ _customer.img }}" *ngIf="_customer && _customer['img']" />
                        <a class="cover-close" *ngIf="_customer" (click)="OnRemoveCustomer()"><i class="ti-close"></i></a>
                    </div>
                    <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="!_customer">
                        <div class="col-md-12 col-xs-12 prices">
                            <div class="col-md-12 col-xs-12 center no-p item-price">
                                <div class="col-xs-12 no-p prices-title" *ngIf="__customerPointsAvailable > 0"><p><i class="ti-star"></i>{{__customerPointsAvailable }}</p></div>
                                <div class="col-xs-12 no-p prices-content">
                                    <p *ngIf="__customerPointsAvailable <= 0">لايملك الزبون النقاط لاستخدامها</p>
                                    <p *ngIf="__customerPointsAvailable > 0">
                                        <span width="24px" class="dropdown">
                                            <a class="action_btn float_exac filter" id="dropActionMenue" data-toggle="dropdown">
                                            استخدم نقاط الزبون</a>
                                            <div class="loyalty_dropdown dropdown-menu padding-10" role="menu" aria-labelledby="dropActionMenue">
                                                <input [(ngModel)]="__customerPointsToUse" placeholder="1" (change)="onCustomerPointsToUseChanged()"/>
                                            </div>
                                        </span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <p class="customer-name center">لم يحدد الزبون</p>
                    </div>
                    <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="_customer">
                        <p class="customer-name center">{{ _customer.name }}</p>
                        <div class="col-md-12 col-xs-12 prices">
                            <div class="col-md-12 col-xs-12 center no-p item-price">
                                <div class="col-xs-12 no-p prices-title" *ngIf="__customerPointsAvailable > 0"><p><i class="ti-star"></i>{{__customerPointsAvailable }}</p></div>
                                <div class="col-xs-12 no-p prices-content">
                                    <p *ngIf="__customerPointsAvailable <= 0">لايملك {{ _customer.name }} النقاط لاستخدامها</p>
                                    <p *ngIf="__customerPointsAvailable > 0">
                                        <span width="24px" class="dropdown">
                                            <a class="action_btn float_exac filter" id="dropActionMenue" data-toggle="dropdown">
                                            استخدم نقاط {{ _customer.name }}</a>
                                            <div class="loyalty_dropdown dropdown-menu padding-10" role="menu" aria-labelledby="dropActionMenue">
                                                <input [(ngModel)]="__customerPointsToUse" placeholder="1" (change)="onCustomerPointsToUseChanged()"/>
                                            </div>
                                        </span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12 no-p item item-price">
                                <div class="col-xs-4 no-p prices-title"><p>مدين</p></div>
                                <div class="col-xs-8 no-p prices-content"><p>{{ (_customer.total) | myCurrency }}</p></div>
                            </div>
                            <div class="col-md-12 col-xs-12 no-p item item-price">
                                <div class="col-xs-4 no-p prices-title"><p>المدفوع</p></div>
                                <div class="col-xs-8 no-p prices-content"><p>{{ (_customer.paid) | myCurrency }}</p></div>
                            </div>
                            <div class="col-md-12 col-xs-12 no-p item item-price">
                                <div class="col-xs-4 no-p prices-title"><p>المتبقى</p></div>
                                <div class="col-xs-8 no-p prices-content"><p>{{ ((_customer.total - _customer.paid)) | myCurrency }}</p></div>
                            </div>
                        </div>
                        <p class="customer-name center" *ngIf="_customer.email">{{ _customer.email }}</p>
                        <p class="customer-name center" *ngIf="_customer.phone">{{ _customer.phone }}</p>
                        <p class="customer-name center" *ngIf="_customer.mobile">{{ _customer.mobile }}</p>

                    </div>
                </div>
                <div class="col-md-12 col-xs-12 no-p" [hidden]="__showCustomerData">
                    <div class="col-md-12 col-xs-12 no-p image-wrapper" [ngClass]="{'notfound' : !_employee}">
                        <img src="assets/img/expl/employees.svg" *ngIf="!_employee || !_employee['img']" />
                        <img src="{{ _global.config['serverPath']+'uploads/avatars/'+ _employee.img }}" *ngIf="_employee && _employee['img']" />
                        <a class="cover-close" *ngIf="_employee" (click)="OnRemoveEmployee()"><i class="ti-close"></i></a>
                    </div>
                    <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="!_employee">
                        <p class="customer-name center">لم يحدد الموظف</p>
                    </div>
                    <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="_employee">
                        <p class="customer-name center">{{ _employee.name }}</p>
                        <div class="col-md-12 col-xs-12 prices">
                            <div class="col-md-12 col-xs-12 no-p item item-price">
                                <div class="col-xs-4 no-p prices-title"><p>دائن</p></div>
                                <div class="col-xs-8 no-p prices-content"><p>{{ (_employee.total) | myCurrency }}</p></div>
                            </div>
                            <div class="col-md-12 col-xs-12 no-p item item-price">
                                <div class="col-xs-4 no-p prices-title"><p>المدفوع</p></div>
                                <div class="col-xs-8 no-p prices-content"><p>{{ (_employee.paid) | myCurrency }}</p></div>
                            </div>
                            <div class="col-md-12 col-xs-12 no-p item item-price">
                                <div class="col-xs-4 no-p prices-title"><p>المتبقى</p></div>
                                <div class="col-xs-8 no-p prices-content"><p>{{ ((_employee.total - _employee.paid)) | myCurrency }}</p></div>
                            </div>
                        </div>
                        <p class="customer-name center" *ngIf="_employee.email">{{ _employee.email }}</p>
                        <p class="customer-name center" *ngIf="_employee.phone">{{ _employee.phone }}</p>
                        <p class="customer-name center" *ngIf="_employee.mobile">{{ _employee.mobile }}</p>
                    </div>
                </div>
            </div>
         </div>

         <div class="col-md-12 col-xs-12 no-p" *ngIf="_modal === 'shipping'">
             <fieldset>
                <!--<div class="col-xl-12 form_paraphraph">
                    <p class="title head">شحن الطلبات</p>
                    <p>فى حال كان هناك شحن يسجل كمصروف على الشركة</p>
                </div>-->
                <div class="show_box show_shipping">
                    <div class="form col-md-12 col-xs-12 no-p">
                        <div class="_cos_title_ no-p col-md-12 col-xs-12"><p>عملية سحب المنتجات و الشحن</p></div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="col-md-6 col-xs-6 col-sm-6 first" >
                                <button type="button" class="btn_box" (click)="__setQuantityOrigin__('store')" [ngClass]="{'active' : formObject.value.quantity_origin === 'store' }">
                                    <i class="ti-direction-alt"></i>
                                    <span>السحب من المتجر</span>
                                </button>
                            </div>
                            <div class="col-md-6 col-xs-6 col-sm-6 first">
                                <button type="button" class="btn_box" (click)="__setQuantityOrigin__('storage')" [ngClass]="{'active' : formObject.value.quantity_origin === 'storage' }">
                                    <i class="ti-home"></i>
                                    <span>السحب من المخازن</span>
                                </button>
                            </div>
                            <div class="form-group col-md-12 col-xs-12 col-sm-12" *ngIf="__quantityOrigin__ === 'storage'">
                                <label class="col-md-12 col-form-label">المخزن</label>
                                <div class="col-md-12 ">
                                    <select class="form-control" name="storage" (change)="__setQuantityOrigin__('storage' , $event)">
                                        <option *ngFor="let option of __storagesArray"
                                            [value]="option.id" value="{{ option.id }}" >{{ option.name }}</option>
                                    </select>
                                </div>
                            </div> 
                        </div>
                        <div class="col-md-12 col-xs-12 no-p checking">
                            <div class="form-group col-md-12 col-xs-12 no-p">
                                <label class="label-item">
                                    <input type="checkbox" class="label-cb" (change)="__refreshPrices()"
                                           [(ngModel)]="shipping_by_company" name="shipping_by_company" />
                                    <span class="label-mark"></span>
                                    دفع قيمة الشحن من قبل الشركة ... (الشحن مجانى)
                                </label>

                            </div>
                        </div>
                        <div class="form" (ngSubmit)="null">
                            <div class="form-group datas">
                                <label class="col-md-4 col-form-label">مبلغ النقل أو الشحن</label>
                                <div class="col-md-6 float_opp">
                                    <input (change)="__refreshPrices()" [(ngModel)]="shipping_amount" name="shipping_amount"
                                    type="text" class="form-control" placeholder="مبلغ النقل أو الشحن"/>
                                </div>
                                <div class="col-md-2 padding-20"></div>
                            </div>
                        </div>
                    </div>
                </div>
             </fieldset>
         </div>
         <div class="col-md-12 no-p" *ngIf="_modal === 'paymentsDetails'">
             <div class="show_box show_customer" >
                <div class="col-md-12 col-xs-12 no-p">
                    <div class="col-md-12 col-xs-12 no-p image-wrapper notfound">
                        <img src="assets/img/expl/expenses.svg"/>
                    </div>
                    <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="formObject.value.paid === 0 || !formObject.value.payments || formObject.value.payments.length === 0">
                        <p class="customer-name center">لم يتم الدفع الى الأن</p>
                    </div>
                    <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="formObject.value.paid > 0 && formObject.value.payments && formObject.value.payments.length > 0">
                        <p class="customer-name center">تأريخ الدفع</p>
                        <div class="col-md-12 col-xs-12 prices">
                           <div class="col-md-11 col-xs-11 no-p">
                                <div class="col-md-12 col-xs-12 no-p item item-price">
                                    <div class="col-xs-4 no-p prices-title"><p>طريقة الدفع</p></div>
                                </div>
                                <div class="col-md-12 col-xs-12 no-p item item-price">
                                    <div class="col-xs-4 no-p prices-title"><p>المبلغ</p></div>
                                </div>
                                <div class="col-md-12 col-xs-12 no-p item item-price">
                                    <div class="col-xs-4 no-p prices-title"><p>التاريخ</p></div>
                                </div>
                           </div>
                           <div class="col-md-1 col-xs-1 no-p"><p></p>
                           </div>
                        </div>
                        <div class="col-md-12 col-xs-12 prices" *ngFor="let payment of formObject.value.payments;let i = index">
                            <div class="col-md-11 col-xs-11 no-p">
                                <div class="col-md-12 col-xs-12 no-p item item-price">
                                    <div class="col-xs-8 no-p prices-content"><p>{{ payment['by'] | paymentType }}</p></div>
                                </div>
                                <div class="col-md-12 col-xs-12 no-p item item-price">
                                    <div class="col-xs-8 no-p prices-content"><p>{{ payment['paid'] | myCurrency }}</p></div>
                                </div>
                                <div class="col-md-12 col-xs-12 no-p item item-price">
                                    <div class="col-xs-8 no-p prices-content"><p>{{ payment['date'] | date:'dd/MM/yyyy H:mm' }}</p></div>
                                </div>
                            </div>
                            <div class="col-md-1 col-xs-1">
                                <a (click)="OnRemovePayment(i)" class="remove"><i class="ti-trash"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-md-12 col-xs-12 no-p customer_body" *ngIf="formObject.value.paid === 0 || !formObject.value.payments || formObject.value.payments.length === 0">
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>

<div class="fade modal" id="show-variaty-modal" tabondex="-1" role="dialog"
    aria-labelledby="myVariatyModalLabel" aria-hidden="true" *ngIf="_variatyProduct && _variatyProduct.is_variaty">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header variaty-modal-header white">
                <button class="close" data-dismiss="modal"><span>x</span></button>
                <p class="h3">{{ _variatyProduct.name }} منتج متنوع</p>
            </div>
            <div class="modal-body col-md-12 col-xs-12 white">
                <div class="col-md-12 col-xs-12 no-p variaty-select">
                    <div class="variaty-types-list col-md-12 col-xs-12 no-p bounceInDown"
                        *ngFor="let obj of _variatiesArr,let indx = index" [hidden]="obj.focus === false">
                        <p class="col-md-12 col-xs-12 variaty-name">{{ obj.name }}</p>
                        <button class="variaty-item btn" *ngFor="let variaty of obj.arr,let i = index"
                                (click)="onSelectVariaty(variaty , indx)">
                            <p class="item item{{indx}}_{{i}}">{{ variaty }}</p>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
